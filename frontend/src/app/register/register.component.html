<div class="register_form">
  <mat-card class="register-card">
    <img
      mat-card-image
      src="assets/zap-logo.png"
      alt="logo"
      class="logo-image"
    />
    <mat-card-header>
      <mat-card-title>Register</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
        <div class="form-grid">
          <!-- Email -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Email</mat-label>
            <input matInput type="email" formControlName="email" required />
            <mat-error *ngIf="registerForm.get('email')?.invalid">
              {{ getErrorMessage("email") }}
            </mat-error>
          </mat-form-field>

          <!-- Phone Number -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Phone Number</mat-label>
            <input
              matInput
              type="text"
              formControlName="phone_number"
              required
            />
            <mat-error *ngIf="registerForm.get('phone_number')?.invalid">
              {{ getErrorMessage("phone_number") }}
            </mat-error>
          </mat-form-field>

          <!-- Name -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Name</mat-label>
            <input matInput type="text" formControlName="name" required />
            <mat-error *ngIf="registerForm.get('name')?.invalid">
              {{ getErrorMessage("name") }}
            </mat-error>
          </mat-form-field>

          <!-- ID Number -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>ID Number</mat-label>
            <input matInput type="text" formControlName="id_number" required />
            <mat-error *ngIf="registerForm.get('id_number')?.invalid">
              {{ getErrorMessage("id_number") }}
            </mat-error>
          </mat-form-field>

          <!-- Password -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Password</mat-label>
            <input
              matInput
              [type]="hidePassword ? 'password' : 'text'"
              formControlName="pwd1"
              required
            />
            <button
              mat-icon-button
              matSuffix
              (click)="togglePasswordVisibility()"
              type="button"
            >
              <mat-icon>{{
                hidePassword ? "visibility_off" : "visibility"
              }}</mat-icon>
            </button>
            <mat-error *ngIf="registerForm.get('pwd1')?.invalid">
              {{ getErrorMessage("pwd1") }}
            </mat-error>
          </mat-form-field>

          <!-- Confirm Password -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Confirm Password</mat-label>
            <input
              matInput
              [type]="hideConfirmPassword ? 'password' : 'text'"
              formControlName="pwd2"
              required
            />
            <button
              mat-icon-button
              matSuffix
              (click)="toggleConfirmPasswordVisibility()"
              type="button"
            >
              <mat-icon>{{
                hideConfirmPassword ? "visibility_off" : "visibility"
              }}</mat-icon>
            </button>
            <mat-error
              *ngIf="
                registerForm.hasError('passwordMismatch') &&
                registerForm.get('pwd2')?.touched
              "
            >
              Passwords do not match.
            </mat-error>
          </mat-form-field>
        </div>

        <!-- Register Button -->
        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="register-button"
          [disabled]="registerForm.invalid"
        >
          Register
        </button>

        <p class="login-link">Already have an account? <a href="">Login</a></p>
      </form>
    </mat-card-content>
  </mat-card>
</div>
